\documentclass[cn,9pt,fancy,hide,normal]{elegantbook}

\title{ISO/IEC 14882:2017(E) }
\subtitle{编程语言：C++}

\author{danix800}
\institute{ISO/IEC}
\date{2017-12}
\version{第五版}

\equote{Victory won\rq t come to us unless we go to it. --- M. Moore}

\logo{logo.png}
\cover{cover.jpg}

% \usepackage{enumitem}
\setlist[enumerate,1]{label={(\arabic{paragraph}.\arabic*) \quad --}}
\setlist[enumerate,2]{label={(\arabic{paragraph}.\arabic{enumi}.\arabic*) \quad
\quad \quad \ --}}
\setlist[enumerate,3]{label={
(\arabic{paragraph}.\arabic{enumi}.\arabic{enumii}.\arabic*) \quad \quad \quad
\quad \quad \ --}}

% footnote counter is interrupted by chapter (start over from 1 in new chapters)
% remove this feature, so the counter increases throughout the whole document.
\usepackage{chngcntr}
\counterwithout{footnote}{chapter}
\counterwithout{table}{chapter}
\counterwithout{figure}{chapter}

% space btw footnotes
% \setlength{\footnotesep}{0.5cm}

% \lstset{basicstyle=\fontsize{11}{13}\selectfont\ttfamily}
% \lstset{frame=none}
\lstset{showstringspaces=false,
        language=C,
        columns=fixed,
        basicstyle=\linespread{1.0}\ttfamily\small,
        basewidth=0.5em}

\renewcommand{\theparagraph}{\arabic{paragraph}}
\renewcommand{\thefigure}{\arabic{figure}}
\renewcommand{\thetable}{\arabic{table}}

% syntax command
\newcommand{\tm}[1]{\texttt{#1}} % terminals
\newcommand{\nt}[1]{\textit{#1}} % non-terminals

% syntax symbol
\newcommand{\synsym}[2][]{\parindent0pt\mbox{\qquad\textit{#2:} #1}\linebreak}
% syntax production
\newcommand{\synprd}[2][\linebreak]{\mbox{\qquad\qquad #2}#1}

% doc structures
\newcommand{\chptr}[2]{\chapter[#1]{#1\hfill[#2\label{#2}]}}

\newcommand{\sect}[2]{\section[#1]{#1\hfill[#2\label{#2}]}}
\newcommand{\ssect}[2]{\subsection[#1]{#1\hfill[#2\label{#2}]}}

\newcounter{ssssectcntr} % create new counter for \subsubsubsection
\newcommand{\sssect}[2]{
  \subsubsection[#1]{#1\hfill[#2\label{#2}]}
  \setcounter{ssssectcntr}{0} % start from 0
}

% use paragraph as the next level section
\newcommand{\ssssect}[2]{{ % two level nesting
  \titleformat{\paragraph}[hang]{\bfseries}
    {\hspace{-2.45em}\bfseries\color{structurecolor}\theparagraph\enspace}
    {1pt}{\color{structurecolor}\bfseries\filright}
  % label = subsubsection + ssssectcntr
  \renewcommand{\theparagraph}{\thesubsubsection.\thessssectcntr}
  \stepcounter{ssssectcntr} % step \ssssectcntr
  \paragraph{#1\hfill[#2\label{#2}]}  % the \subsubsubsection
  \setcounter{paragraph}{0} % restart paragraph
}}

% text style shortcuts
\newcommand{\bs}{\textbackslash}
\newcommand{\dq}{\textquotedbl}
\newcommand{\sq}{\textquotesingle}
\newcommand{\tg}{\textgreater}
\newcommand{\tl}{\textless}

\newcommand{\dsh}{\textendash}
\newcommand{\ttim}{\texttimes}
\newcommand{\tsub}{\textsubscript}
\newcommand{\tsup}{\textsuperscript}

\begin{document}
\maketitle
\tableofcontents

% \thispagestyle{empty}

\mainmatter
\hypersetup{pageanchor=true}

%chapters

%\include{chapters/foreword}
%\include{chapters/1.scope}
%\include{chapters/2.refs}
%\include{chapters/3.defs}
%\include{chapters/4.intro}
%\include{chapters/5.lex}
\include{chapters/6.basic}
%\include{chapters/7.conv}
%\include{chapters/8.expr}
%\include{chapters/9.stmt}
%\include{chapters/10.dcl.dcl}
%\include{chapters/11.dcl.decl}
%\include{chapters/12.class}
%\include{chapters/13.class.derived}
\include{chapters/14.class.access}
%\include{chapters/15.special}
%\include{chapters/16.over}
%\include{chapters/17.temp}
%\include{chapters/18.except}
%\include{chapters/19.cpp}
%\include{chapters/20.library}
%\include{chapters/21.language.support}
%\include{chapters/22.diagnostics}

% annexes
\setcounter{chapter}{0} % start from 0
\renewcommand{\thechapter}{\Alph{chapter}}
\renewcommand{\chaptername}{附录 \thechapter}

%\include{chapters/annex.a.gram}
%\include{chapters/annex.b.implimits}
%\include{chapters/annex.c.diff}
%\include{chapters/annex.d.depr}

\end{document}
